<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="assets/zingfavi.ico" type="image/x-icon">
    <title>Get Zinged</title>
</head>
<body>
    <header class="header">
        <div class="logo"></div>
    </header>
    <section id="hero-page" class="hero-page">
        <div class="gradient-1"></div>
        <div class="maincontainer-1">
            <div class="img-container">
                <img src="assets/HeroLady.png" alt="HeroLady" class="hero-image">
                <div class="img-vignette"></div>
            </div>
            <div class="hero-text-container">
                <img src="assets/ZingLogoWhiteFull.png" alt="Logo" class="logofull-image logofull-bigscreen">
                <span class="titlepara">
                    <h2 class="title-1">One place for all</h2>
                    <h2 class="title-1">your rewards</h2>
                </span>
                <p class="descriptext">
                    <span>
                        Get 
                    </span>
                    <span class="highlight-text">
                        exclusive rewards
                    </span> 
                    <span>
                        on your favorite D2C brands
                    </span> </p>
                <img src="assets/ZingLogoWhiteFull.png" alt="Logo" class="logofull-image">
                <a href="#form" id="join-button" class="buttonInnerContainer">
                    <div class="buttonOuterContainer">
                        <h4 class="buttonText">JOIN NOW</h4>
                    </div>
                    <div class="buttonInnerContainer buttonGlow"></div>
                </a>
            </div>
        </div>
        <div class="gradient-2"></div>
    </section>
    <section class="hero-page screen-page">
        <div class="gradient-1"></div>
        <div class="maincontainer-2">
            <div class="formScreenLayout">
                <div class="leftPanel">
                    <div class="leftPanelOffers">
                        <div class="offerContainer">
                            <div class="offerImgContainer">

                                <img src="assets/BestPrice.png" alt="" height="100%">
                            </div>
                            <span class="offerText">
                                <div class="offerTextBackground"></div>
                                Do we get you the best price? 
                                <br>
                                <span class="highlight-text">
                                    Bet.
                                </span>
                            </span>
                        </div>
                        <div class="offerContainer">
                            <div class="offerImgContainer">
                                <img src="assets/Dolla.png" alt="" height="100%">
                            </div>
                            <span class="offerText">
                                <div class="offerTextBackground"></div>
                                Reward coins on every spend? 
                                <br><span class="highlight-text">
                                    Got it.
                                </span>
                            </span>
                        </div>
                        <div class="offerContainer">
                            <div class="offerImgContainer">
                                <img src="assets/Kaching.png" alt="" height="100%">
                            </div>
                            <span class="offerText">
                                <div class="offerTextBackground"></div>
                                More spends = More Rewards?
                                <br>
                                <span class="highlight-text">
                                    Absolutely.
                                </span>
                            </span>
                        </div>
                    </div>
                    <div id="showConfirmation" class="leftPanelConfirmation">

                        <div class="confirmTickImg">
                            
                        </div>
                        <h1>
                            Congratulations! 
                            <br>
                            
                                You're In. 
                                <br>ðŸ˜Ž
                        </h1>
                        <span>Get ready for some mind-blowing ðŸ¤¯ rewards!</span>
                    </div>
                </div>
                <div class="formRim">
                    <div class="formContainer">
                        <form id="form" onsubmit="validateForm(event)">
                            
                            <h2 class="title-2">ðŸ¥³ Join now for early access ðŸ¥³</h2>
                                
                            <br>
                            <span>
<p>                                Email / Phone
    <span class="emstar">ðŸ¤©</span>
    <span class="emfrown">ðŸ˜’</span></p>
                                <input id="emphone" type="tel" name="Email/Phone">
                            </span>
                            <br>
                            <span>
                                Gender (optional)
                                <select>
                                    <option>
                                        Female
                                    </option>
                                    <option>
                                        Male
                                    </option>
                                    <option>
                                        Non-Binary
                                    </option>
                                </select>
                            </span>
                            <br>
                            <button type="submit" id="form-join-button" class="buttonInnerContainer">
                                <div class="buttonOuterContainer formbutton">
                                    <h4 class="buttonText formbutton">JOIN NOW</h4>
                                </div>
                                <div class="buttonInnerContainer buttonGlow"></div>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="gradient-2"></div>
    </section>
    <script> 

    const ctabutton = document.getElementById("join-button");
    const form = document.getElementById("form");
    const inputX = document.getElementById("emphone");
    const emstar = document.querySelector('.emstar');
    const emfrown = document.querySelector('.emfrown');

    const patternPh = /^\d{10}$/;
    const patternEm = /^\w+@\w+\.\w+$/;

    const animateConfirmation = () => {
        const confirmationPanel = document.getElementById("showConfirmation")
        
        let position = 100; 

        const slideIn = () => {
            if (position > 0) {
                position -= 5; 
                confirmationPanel.style.left = `${position}%`;
                confirmationPanel.style.opacity = `${100 - position}%`;
                requestAnimationFrame(slideIn); // Call slideIn on the next frame
            }
        };

        requestAnimationFrame(slideIn)
    }

    const validateInput = () => {
        const input = inputX.value;
        const isValid = patternEm.test(input) || patternPh.test(input);

        emstar.classList.toggle("emojiviz", isValid);
        emfrown.classList.toggle("emojiviz", !isValid);
    };

    inputX.addEventListener("keyup", validateInput);

    const validateForm = async (e) => {
        e.preventDefault();

        

        if (patternEm.test(inputX.value) || patternPh.test(inputX.value)) {
            const formData = new FormData();
            formData.append('Email', inputX.value);
            formData.append('Gender', form.querySelector('select').value);

            animateConfirmation();
            
            try {
                const response = await fetch('https://script.google.com/macros/s/AKfycbwcwGox-slE9IVx6bUetRLf4eVP4xb4oXjFmSReTB_nTdhIaRvdJMOZjH5bPelo0WSVpA/exec',
                {
                    method: 'POST',
                    body: formData,
                    mode: "no-cors"
                });

                if (response.status < 400) {
                    console.log("Data submitted -", await response.text());
                    console.warn("Data submitted");
                } else {
                    console.error("Submit failed");
                }
            } catch (error) {
                console.error("Error submitting form:", error);
            }

                

        } else {
            alert("Bro, check the input. ðŸ˜’ðŸ˜’");
        }
    };
    </script>
</body>
</html>